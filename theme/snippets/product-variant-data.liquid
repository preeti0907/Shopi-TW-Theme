{% comment %}
  Renders product variant data for JavaScript
  Usage:
  {% render 'product-variant-data', product: product %}
{% endcomment %}

<script>
  window.productVariants = [
    {% for variant in product.variants %}
      {
        id: {{ variant.id | json }},
        title: {{ variant.title | json }},
        price: {{ variant.price | json }},
        compare_at_price: {{ variant.compare_at_price | json }},
        available: {{ variant.available | json }},
        options: {{ variant.options | json }}
      }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ];
</script> 