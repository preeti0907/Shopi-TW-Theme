{% comment %}
  Recently Viewed Products Component
  This snippet renders a single product for the recently viewed section
{% endcomment %}

{% if product != blank %}
    <div class="recommended-product">
      <div class="product-card h-full border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition">
        <!-- Product Image -->
        <a href="{{ product.url }}" class="block overflow-hidden">
          <div class="aspect-w-1 aspect-h-1 bg-gray-100">
            <img 
              src="{{ product.featured_image | img_url: 'medium' }}" 
              alt="{{ product.title | escape }}"
              class="w-full h-full object-center object-cover"
              loading="lazy"
              width="{{ product.featured_image.width }}"
              height="{{ product.featured_image.height }}"
            >
          </div>
        </a>
        
        <!-- Product Info -->
        <div class="p-4">
          {% if product.vendor %}
            <div class="text-xs text-gray-500 mb-1">{{ product.vendor }}</div>
          {% endif %}
          
          <h3 class="text-sm font-medium mb-1 line-clamp-2">
            <a href="{{ product.url }}" class="text-gray-900 hover:text-gray-700">
              {{ product.title }}
            </a>
          </h3>
          
          <div class="product-price">
            <span class="text-sm font-medium {% if product.compare_at_price > product.price %}text-red-600{% endif %}">
              {{ product.price | money }}
            </span>
            
            {% if product.compare_at_price > product.price %}
              <span class="ml-1 text-xs text-gray-500 line-through">
                {{ product.compare_at_price | money }}
              </span>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  {% endif %}